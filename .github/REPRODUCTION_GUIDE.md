# Jules Workflow Reproduction Guide

This document describes the repository state required to reproduce the Jules workflow in other projects.

## Required Configuration

- The jlo CLI version used by the workflows is available via `vars.JLO_VERSION` or defaults to `latest`.
- The repository provides `secrets.JULES_API_KEY` for agent execution.
- The repository provides `secrets.JLO_BOT_TOKEN` for auto-merge and write operations.
- The repository defines `vars.JULES_PAUSED` when pausing scheduled runs is required.
- The `jules` branch has branch protection with required status checks and auto-merge enabled.

## Required Files

### .github/workflows/

| File | Purpose |
|------|---------|
| `jules-workflows.yml` | Main orchestration (scheduled execution) |
| `jules-run-planner.yml` | Manual Planner execution |
| `jules-run-implementer.yml` | Manual Implementer execution |
| `jules-automerge.yml` | Auto-merge Observer/Decider/Planner PRs |
| `jules-implementer-review.yml` | Auto-post review comments on Implementer PRs |

### .github/actions/

| Directory | Purpose |
|-----------|---------|
| `install-jlo/` | Install jlo CLI |
| `configure-git/` | Configure git user |
| `run-implementer/` | Run implementer and cleanup issue/events |

### .github/scripts/

| File | Purpose |
|------|---------|
| `jules-generate-workstream-matrix.sh` | Generate workstream matrix output |
| `jules-generate-decider-matrix.sh` | Generate decider matrix output |
| `jules-generate-routing-matrices.sh` | Generate planner/implementer matrix outputs |
| `jules-delete-processed-issue-and-events.sh` | Delete processed issue and source events |

### .jules/ (scaffold)

The scaffold is generated by `jlo init` and matches the jlo version used by the workflows.

## Repository State

- The `jules` branch exists and contains the `.jules/` scaffold.
- The git identity configured by `configure-git/action.yml` matches the target repository's bot account.
- The bot account associated with `JLO_BOT_TOKEN` has write access to the repository.
- Auto-review tools are configured for on-demand review only, consistent with `jules-implementer-review.yml`.

## Workflow Execution Flow

The orchestration workflow runs the layers in sequence as defined by `jules-workflows.yml`, producing agent branches according to workflow rules.

- Observer/Decider/Planner: Only `.jules/` changes, auto-merge
- Implementer: Source code changes, human review required

## Troubleshooting

### Auto-merge Fails

- Repository settings, branch protection, and permissions align with the requirements referenced by the Jules workflows.
