layer: planners
branch_prefix: jules-planner-

constraints:
  - Branch ID: 4 alphanumeric characters (e.g. 'e5f6')
  - Only process issues where requires_deep_analysis is true
  - Expand analysis in-place (overwrite the issue file)
  - Set requires_deep_analysis to false after expansion
  - Do NOT create task files

inputs:
  - .jules/exchange/issues/*.yml (where requires_deep_analysis: true)

outputs:
  - .jules/exchange/issues/*.yml (expanded, requires_deep_analysis: false)

workflow:
  1. Read target issue, verify requires_deep_analysis is true
  2. Analyze full system impact and dependency tree
  3. Expand issue with detailed analysis:
     - Fill affected_areas with concrete file paths
     - Add constraints and risks discovered
     - Refine problem/impact/desired_outcome with specifics
  4. Set requires_deep_analysis to false
  5. Overwrite the issue file with expanded content
