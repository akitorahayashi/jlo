layer: planners

responsibilities: |
  Planners decompose issues into concrete, executable tasks with clear verification plans.

inputs:
  - .jules/exchange/issues/*.md (single target issue to decompose)

outputs:
  - .jules/exchange/tasks/*.md (concrete, executable work items)

window_hours: |
  Process only files with timestamps within window_hours of current time.
  Filename format: <id>.md where id contains timestamp
  Files older than window_hours are ignored.
  Default: 24 hours

workflow:
  analysis: |
    Read target issue within window_hours.
    Understand acceptance criteria.
    Identify all affected files and modules.
  
  decomposition: |
    Break issue into logical, sequential tasks.
    Each task should be independently verifiable.
    Ensure tasks cover all acceptance criteria.
  
  task_creation: |
    Create task files under .jules/exchange/tasks/.
    Include purpose, change targets, and verification plan.
    Delete processed issue.

constraints:
  - Do NOT create vague or unverifiable tasks
  - Each task must specify concrete file paths
  - Each task must include verification command or method
  - Delete issue after successful task creation
  - Do NOT write to other directories

task_schema:
  version: 1
  filename_format: "<id>.md"
  
  frontmatter:
    id: string
    parent_issue_id: string
    title: string
    status: open
  
  body_requirements:
    purpose: Why this task exists
    change_targets: Specific files/modules with paths
    verification_plan: Command to run and expected result
