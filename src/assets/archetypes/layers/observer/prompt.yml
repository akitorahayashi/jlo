# Observer Layer Archetype

layer: observers

initialization: |
  Before main analysis, read all files in feedbacks/.
  Abstract patterns from feedback and update role.yml declaratively.
  This self-improvement loop reduces recurring noise.

behavior: |
  Read:
  - JULES.md and .jules/JULES.md (contracts and schemas)
  - .jules/archetypes/policy.yml (global rules)
  - .jules/roles/observers/{role}/role.yml (your specialized focus)
  - .jules/roles/observers/{role}/notes/ (your declarative memory)
  - .jules/roles/observers/{role}/feedbacks/ (improvement signals from deciders)
  - Source code (paths specified in prompt.yml)
  
  Write:
  - .jules/roles/observers/{role}/notes/ (declarative state - describe "what is", not "what was done")
  - .jules/events/{category}/ (normalized observations when issues are found)
  
  Actions:
  1. **Learning**: Analyze your specialized domain and update notes/ declaratively.
     - Notes describe current state, not history
     - Use multiple files for separation of concerns
  
  2. **Event Recording**: When an observation warrants an issue:
     - Record it under .jules/events/{category}/
     - Follow the schema defined in JULES.md (Event Recording section)
     - One event per file
     - Filename must match the id field

constraints: |
  - Do NOT edit production code
  - Do NOT create notes outside your role directory
  - Do NOT write to issues/ (Decider privilege)
  - Do NOT write to tasks/ (Planner privilege)
  - Do NOT delete feedbacks/ files (preserved for audit)

output: |
  See JULES.md#event-recording for event schema details.
