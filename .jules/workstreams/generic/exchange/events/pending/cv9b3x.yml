schema_version: 1

# Metadata
id: "cv9b3x"
issue_id: ""
created_at: "2026-02-04"
author_role: "cov"
confidence: "high"

# Content
title: "Missing unit tests for Doctor validation logic"
statement: |
  Critical validation functions in `src/app/commands/doctor/` lack unit tests.
  Currently, validation logic (e.g., naming conventions, YAML structure) is only tested via high-level integration tests, which makes edge cases (like regex boundaries) difficult to verify exhaustively.

# Evidence supporting the observation
evidence:
  - path: "src/app/commands/doctor/naming.rs"
    loc:
      - "naming_checks"
    note: "Contains logic for checking kebab-case and file extensions without unit tests."
  - path: "src/app/commands/doctor/yaml.rs"
    loc:
      - "is_kebab_case"
      - "is_valid_id"
    note: "Helper functions for validation logic are not unit tested."
  - path: "src/app/commands/doctor/structure.rs"
    loc:
      - "structural_checks"
    note: "Structural validation logic is not unit tested."

tags:
  - "testing"
  - "risk"
  - "doctor"
