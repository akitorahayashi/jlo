schema_version: 1

# Metadata
id: "wc0fao"
issue_id: ""
created_at: "2026-02-04"
author_role: "data_arch"
confidence: "high"

# Content
title: "RoleId Strong Type Bypass"
statement: |
  The strong `RoleId` type is unwrapped to `String` at the `ScheduleLayer` boundary and passed as `String` throughout the application, bypassing type safety and validation guarantees in core logic.

# Evidence supporting the observation
evidence:
  - path: "src/domain/schedule.rs"
    loc:
      - "impl ScheduleLayer"
    note: "enabled_roles() returns Vec<String> instead of Vec<RoleId>"
  - path: "src/app/commands/run/multi_role.rs"
    loc:
      - "fn execute_roles"
    note: "Accepts roles: &[String] instead of &[RoleId]"

tags:
  - "weak-typing"
  - "domain-leakage"
