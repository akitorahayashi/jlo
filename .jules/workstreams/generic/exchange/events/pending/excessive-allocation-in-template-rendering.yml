schema_version: 1

# Metadata
id: "ea183d"
issue_id: ""
created_at: "2026-02-02"
author_role: "rustacean"
confidence: "high"

# Content
title: "Excessive allocation in template rendering"
statement: |
  The template rendering logic re-initializes the Minijinja environment for every template render call, causing unnecessary allocation and parsing overhead.

# Evidence supporting the observation
evidence:
  - path: "src/services/prompt_assembly.rs"
    loc:
      - "fn render_template"
    note: "Environment::new() is called inside render_template, which is invoked in a loop for included files."

tags:
  - "performance"
  - "allocation"
  - "minijinja"
