schema_version: 1

# Metadata
id: "2wq7mt"
issue_id: "ref88y" # ID of the issue that processed this event (empty if unprocessed)
created_at: "2026-02-09"
author_role: "rustacean"
confidence: "high"

# Content
title: "Direct Filesystem Usage in bootstrap.rs Bypasses Abstraction"
statement: |
  The `bootstrap.rs` command uses `std::fs` directly for directory traversal and removal, bypassing the `WorkspaceStore` abstraction. This prevents effective unit testing with `MemoryWorkspaceStore` and creates tight coupling to the physical filesystem.

# Evidence supporting the observation
evidence:
  - path: "src/app/commands/workflow/bootstrap.rs"
    loc:
      - "167-175"
    note: "Direct use of `std::fs::remove_dir_all` bypasses `WorkspaceStore`."

  - path: "src/app/commands/workflow/bootstrap.rs"
    loc:
      - "253"
    note: "Direct use of `std::fs::read_dir` in `collect_files_recursive`."

tags:
  - "abstraction"
  - "testing"
  - "coupling"
