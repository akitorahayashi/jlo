schema_version: 1

# Metadata
id: "cdeec2"
issue_id: "j8h2k5"
created_at: "2026-02-05"
author_role: "data_arch"
confidence: "high"

# Content
title: "Redundant DTO definition for RunConfig"
statement: |
  The `RunConfig` domain entity is shadowed by a nearly identical `RunConfigDto` structure used solely for TOML deserialization. This forces manual mapping logic (`From<RunConfigDto>`) that duplicates field definitions and default value logic, increasing maintenance burden and risk of drift.

# Evidence supporting the observation
evidence:
  - path: "src/app/commands/run/config_dto.rs"
    loc:
      - "RunConfigDto"
    note: "Defines a mirror structure of RunConfig with Option fields."

  - path: "src/domain/run_config.rs"
    loc:
      - "RunConfig"
    note: "Defines the canonical domain entity."

  - path: "src/app/commands/run/config_dto.rs"
    loc:
      - "impl From<RunConfigDto> for RunConfig"
    note: "Implements manual mapping logic which must be kept in sync."

tags:
  - "duplication"
  - "coupling"
  - "efficiency"
