schema_version: 1

# Metadata
id: "dr1v3r"
issue_id: "bf5688"
created_at: "2026-02-04"
author_role: "data_arch"
confidence: "high"

# Content
title: "ScheduledRole uses weak String type instead of RoleId"
statement: |
  The `ScheduledRole` domain entity stores role names as raw `String`s, relying on imperative validation in `WorkstreamSchedule::validate` rather than using the strong `RoleId` type. This violates the "Represent Valid States Only" principle, as the struct itself permits invalid role names, and the proof of validation (the `RoleId` instance) is discarded immediately after creation.

# Evidence supporting the observation
evidence:
  - path: "src/domain/schedule.rs"
    loc:
      - "26"
    note: "ScheduledRole struct definition uses String for 'name'."

  - path: "src/domain/schedule.rs"
    loc:
      - "68-75"
    note: "Validation loop creates RoleId to check validity but discards it, keeping the raw String."

  - path: "src/domain/role_id.rs"
    loc:
      - "10"
    note: "RoleId is the existing Strong Type (SSOT) for this concept."

tags:
  - "weak-typing"
  - "domain-modeling"
  - "validation"
