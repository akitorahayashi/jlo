schema_version: 1

id: "ev32xs"
issue_id: "ref77z"
created_at: "2026-02-08"
author_role: "structural_arch"
confidence: "high"

title: "Domain logic misplaced in app/services"
statement: |
  The `DependencyResolver` and `ArtifactGenerator` services contain core domain logic (Kahn's algorithm, script generation rules) but are located in `src/app/services`. This logic should reside in the `domain` layer to maintain separation of concerns and allow `app` to focus on orchestration.

evidence:
  - path: "src/app/services/dependency_resolver.rs"
    loc:
      - "10-100"
    note: "Implements Kahn's algorithm for component dependency resolution."
  - path: "src/app/services/artifact_generator.rs"
    loc:
      - "10-50"
    note: "Implements logic for generating Bash installation scripts and TOML configuration."

tags:
  - "structure"
  - "domain-logic"
