schema_version: 2

# Metadata
id: "ast8t1"
source_events:
  - "c4d5e6"
title: "Fix Silent Asset Loading Failures"
label: "bugs"
priority: "medium"
summary: "Handle non-UTF8 files correctly in asset services."

# Content
problem: |
  The `EmbeddedRoleTemplateStore` and `workstream_template_assets` services use `contents_utf8()` in conditions, silently ignoring files that contain invalid UTF-8 sequences.
  This effectively drops binary files or corrupted text files without warning.

impact: |
  Generated projects may be missing required assets, leading to confusing runtime failures for users.
  Debugging missing files is difficult because there are no logs or errors.

desired_outcome: |
  The system either supports binary assets (if needed) or explicitly reports an error when a file cannot be read as UTF-8.
  No files are silently skipped.

# Specifics
affected_areas:
  - "src/services/embedded_role_template_store.rs"
  - "src/services/workstream_template_assets.rs"

acceptance_criteria:
  - "Identify if binary assets are needed; if so, support `&[u8]` or similar."
  - "If text only is expected, log a warning or return an error for invalid UTF-8 files."

verification_commands:
  - "cargo test"
  - "cargo check"

# Analysis Flags
requires_deep_analysis: false
deep_analysis_reason: ""
