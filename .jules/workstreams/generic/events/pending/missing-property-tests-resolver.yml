schema_version: 1

# Metadata
id: "mp3t9r"
issue_id: ""
created_at: "2026-02-01"
author_role: "qa"
confidence: "high"

# Content
title: "Missing Property-Based Tests for Resolver"
statement: |
  The `Resolver::resolve` method implements complex graph algorithms (topological sort, cycle detection) but is tested only with a small set of hand-crafted scenarios.
  This approach leaves the implementation vulnerable to edge cases in larger or more complex dependency graphs (e.g., disconnected subgraphs, large diamonds, self-loops).
  Property-based testing (e.g., using `proptest`) should be used to generate random valid and invalid DAGs to verify invariants (output is sorted, no cycles in output, dependencies come before dependents).

# Evidence supporting the observation
evidence:
  - path: "src/services/resolver.rs"
    loc:
      - "tests"
    note: "Tests cover only 7 specific scenarios (single, chain, diamond, cycle, etc.) using `TestCatalog` with hardcoded inputs."

tags:
  - "testing-strategy"
  - "robustness"
  - "risk:medium"
