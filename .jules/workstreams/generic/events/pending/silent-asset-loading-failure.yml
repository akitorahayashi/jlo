schema_version: 1

# Metadata
id: "c4d5e6"
issue_id: ""
created_at: "2026-02-01"
author_role: "rustacean"
confidence: "high"

# Content
title: "Silent Failure in Asset Loading for Non-UTF8 Files"
statement: |
  The `EmbeddedRoleTemplateStore` and `workstream_template_assets` services silently ignore files that contain invalid UTF-8 sequences. This means binary assets or files with encoding issues will be excluded from the scaffold without any warning or error, potentially leading to incomplete workspace generation and confusing runtime failures.

# Evidence supporting the observation
evidence:
  - path: "src/services/embedded_role_template_store.rs"
    loc:
      - "if let Some(content) = file.contents_utf8() {"
    note: "The `collect_files` function checks for UTF-8 content and silently skips the file if it returns `None`, with no logging or error reporting."

  - path: "src/services/workstream_template_assets.rs"
    loc:
      - "if let Some(content) = file.contents_utf8()"
    note: "Similarly, `collect_files` in `workstream_template_assets` uses `contents_utf8()` in a condition, discarding files that fail this check."

tags:
  - "robustness"
  - "error-handling"
  - "data-integrity"
