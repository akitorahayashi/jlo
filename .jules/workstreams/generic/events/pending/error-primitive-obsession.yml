schema_version: 1

# Metadata
id: "e7r4p0"
issue_id: ""
created_at: "2026-02-01"
author_role: "data_arch"
confidence: "high"

# Content
title: "Primitive Obsession in Error Handling"
statement: |
  The `AppError` enum in `src/domain/error.rs` relies heavily on string-wrapping variants like `ConfigError(String)` and `RunConfigInvalid(String)`. This violates "Represent Valid States Only" by hiding the structural nature of errors behind unstructured text, forcing callers to parse strings if they need to handle specific failure modes.

# Evidence supporting the observation
evidence:
  - path: "src/domain/error.rs"
    loc:
      - "ConfigError(String)"
      - "RunConfigInvalid(String)"
      - "MalformedEnvToml(String)"
      - "InvalidComponentMetadata { component: String, reason: String }"
    note: "These variants effectively erase type information about the error cause."

tags:
  - "primitive-obsession"
  - "error-handling"
