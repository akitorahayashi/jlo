schema_version: 1

# Metadata
id: "errm01"
issue_id: ""
created_at: "2026-02-01"
author_role: "qa"
confidence: "high"

# Content
title: "Imprecise Error Modeling"
statement: |
  The `AppError` enum is used as a catch-all for various failure domains, heavily relying on `ConfigError(String)` for network errors (HTTP 429, 500), Git failures, and CLI execution errors.
  This leads to "stringly typed" error handling logic (e.g., `is_retryable` checks if the error message contains specific substrings like "429" or "Server error") and poor failure diagnosability.

# Evidence supporting the observation
evidence:
  - path: "src/domain/error.rs"
    loc:
      - "10-50"
    note: "AppError definition lacks specific variants for Network, ExternalCommand, or Git errors."

  - path: "src/services/jules_client_http.rs"
    loc:
      - "150-160"
      - "180-190"
    note: "HTTP errors are mapped to ConfigError with string formatting; is_retryable relies on string matching."

tags:
  - "diagnosability"
  - "architecture"
  - "technical-debt"
