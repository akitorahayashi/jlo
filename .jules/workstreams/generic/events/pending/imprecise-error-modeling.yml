schema_version: 1

# Metadata
id: "e1a2b3"
issue_id: ""
created_at: "2026-02-01"
author_role: "rustacean"
confidence: "high"

# Content
title: "Imprecise Error Modeling with Stringly-Typed Variants"
statement: |
  The `AppError` enum relies heavily on `ConfigError(String)` and other unstructured variants that wrap a simple `String`. This erases semantic meaning and makes programmatic error handling fragile, as callers must parse error messages to distinguish failure modes.

# Evidence supporting the observation
evidence:
  - path: "src/domain/error.rs"
    loc:
      - "enum AppError"
      - "ConfigError(String)"
      - "InvalidComponentMetadata { component: String, reason: String }"
      - "MalformedEnvToml(String)"
    note: "The `AppError` enum definitions show multiple variants that rely on `String` for the error reason instead of specific types or sub-enums."

  - path: "src/services/scaffold_assets.rs"
    loc:
      - "AppError::config_error(format!(\"Missing scaffold file: {}\", path))"
      - "AppError::config_error(format!(\"Failed to parse {}: {}\", path, err))"
    note: "The `scaffold_assets` service uses `AppError::config_error` for file missing and parse errors, which conflates different failure modes into a generic configuration error string."

tags:
  - "error-handling"
  - "design"
  - "maintainability"
