schema_version: 2

# Metadata
id: "e7f2a1"
source_events:
  - "4dda2c"
  - "8b2900"
  - "miss01"
title: "Enforce AGENTS.md Contracts"
label: "docs"
priority: "high"
summary: "Ensure critical directories have scoped AGENTS.md files defining architectural boundaries."

# Content
goal: |
  Establish clear architectural boundaries and development contracts for key directories by introducing scoped `AGENTS.md` files.

problem: |
  Several core directories (`src/domain/`, `tests/`, `docs/`) lack `AGENTS.md` files. This omission leads to:
  1. Unclear architectural boundaries and purity rules (e.g., domain logic leaking into other layers).
  2. Implicit knowledge for testing patterns.
  3. Poor discoverability of documentation structure.

impact: |
  Without these contracts, the codebase is prone to architectural drift, inconsistent testing practices, and difficult onboarding for new developers (or agents).

desired_outcome: |
  Every key directory has a scoped `AGENTS.md` that explicitly defines:
  - The purpose of the directory.
  - Allowed dependencies and imports.
  - Testing or verification commands specific to that scope.
  - Navigation aid for subdirectories.

constraints: []
risks: []

# Specifics
affected_areas:
  - "src/domain/"
  - "tests/"
  - "docs/"

acceptance_criteria:
  - "`src/domain/AGENTS.md` exists and defines domain purity rules."
  - "`tests/AGENTS.md` exists and defines integration test patterns."
  - "`docs/AGENTS.md` exists and explains the documentation structure."

verification_criteria:
  - "File existence check."
  - "Content review to ensure rules are explicit."
  - "Linter or `jlo doctor` (future) check for AGENTS.md presence."

requires_deep_analysis: false
deep_analysis_reason: ""
