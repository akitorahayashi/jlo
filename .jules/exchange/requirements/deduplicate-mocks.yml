schema_version: 2
id: h1j47k
source_events:
  - dup001
title: Deduplicate Test Mocks
label: tests
priority: medium
summary: Duplicate `FakeGit` and `FakeGitHub` definitions exist across multiple modules.
goal: |
  Consolidate `FakeGit` and `FakeGitHub` structs into a shared test module to eliminate duplication.
problem: |
  Multiple modules (e.g., `publish_proposals.rs`, `implementer.rs`) define their own `FakeGit` and `FakeGitHub` structs. This violates DRY and creates inconsistencies.
impact: |
  Maintenance burden increases as changes to mock behavior must be replicated in multiple places.
desired_outcome: |
  A single `FakeGit` and `FakeGitHub` implementation exists in `src/testing/` or `tests/harness/` and is used by all consumers.
affected_areas:
  - src/app/commands/workflow/workspace/publish_proposals.rs
  - src/app/commands/run/layer/implementer.rs
  - src/app/commands/run/layer/innovators.rs
  - src/app/commands/run/layer/decider.rs
acceptance_criteria:
  - "`FakeGit` and `FakeGitHub` are defined once."
  - All consuming modules import the shared definitions.
verification_criteria:
  - "Verify that struct FakeGit is defined in only one location in the codebase."
requires_deep_analysis: false
deep_analysis_reason: ""
