schema_version: 2

# Metadata
id: "2026-01-29_issue_test_specificity"
category: "tests"
priority: "low"
status: "open"
requires_deep_analysis: false
sources:
  - "2025-05-22_120002_tests_qa_003"

# Content
title: "Improve Integration Test Specificity"
summary: "Refactor integration tests to follow the 'One Test, One Assertion' principle for better diagnostics."

affected_areas:
  - "tests/cli_commands.rs"

constraints: []
risks: []

problem: |
  Integration tests, specifically `init_creates_jules_directory`, assert many logical conditions (9 assertions) in a single test case. This violates Diagnostic Specificity.

impact: |
  Failures are hard to diagnose because it's unclear which part of the complex assertion chain failed without deep inspection.

desired_outcome: |
  Tests are granular, verifying specific behaviors individually.

acceptance_criteria:
  - "`init_creates_jules_directory` is split into multiple specific tests (e.g., `init_creates_root`, `init_creates_roles`, `init_creates_readme`)."
