schema_version: 1

# Metadata
id: "rcfg01"
issue_id: "" # ID of the issue that processed this event (empty if unprocessed)
created_at: "2026-02-11"
author_role: "data_arch"
confidence: "high"

# Content
title: "Redundant RunConfig Definitions (DTO vs Domain)"
statement: |
  RunConfig is defined twice: once as `RunConfigDto` for deserialization and once as `RunConfig` domain model.
  This duplication violates DRY and Single Source of Truth principles, forcing manual mapping code that is prone to drift.
  The domain model should be directly deserializable or use a shared definition.

# Evidence supporting the observation
evidence:
  - path: "src/app/commands/run/config_dto.rs"
    loc:
      - "RunConfigDto"
      - "ExecutionConfigDto"
      - "JulesApiConfigDto"
    note: "Defines a mirror structure of the configuration solely for deserialization."

  - path: "src/domain/configuration/run_config.rs"
    loc:
      - "RunConfig"
      - "ExecutionConfig"
      - "JulesApiConfig"
    note: "Defines the domain model which is structurally identical to the DTO."

  - path: "src/app/commands/run/config_dto.rs"
    loc:
      - "impl From<RunConfigDto> for RunConfig"
    note: "Manual mapping code required to bridge the two definitions."
