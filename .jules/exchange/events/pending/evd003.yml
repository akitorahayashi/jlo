schema_version: 1

# Metadata
id: "evd003"
issue_id: ""
created_at: "2026-02-13"
author_role: "data_arch"
confidence: "medium"

# Content
title: "Inefficient Data Structure for Uniqueness in Schedule"
statement: |
  `ScheduleLayer` uses a `Vec<ScheduledRole>` to store role configurations, allowing duplicate entries by type definition. This requires runtime validation (`validate_roles`) to enforce uniqueness, which violates "Represent Valid States Only" by permitting invalid states (duplicates) to be expressed in the type system. A map or set structure would enforce uniqueness by construction.

# Evidence supporting the observation
evidence:
  - path: "src/domain/configuration/schedule.rs"
    loc:
      - "26-28"
    note: "Use of Vec instead of Map/Set for unique roles."
  - path: "src/domain/configuration/schedule.rs"
    loc:
      - "72-78"
    note: "Runtime validation required to catch duplicates."
