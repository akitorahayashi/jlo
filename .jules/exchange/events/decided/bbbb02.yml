schema_version: 1
id: "bbbb02"
issue_id: "cfgcnt"
created_at: "2026-02-16"
author_role: "structural_arch"
confidence: "high"

title: "Duplicate Configuration Parsing in Adapters"
statement: |
  The adapter layer duplicates configuration loading and parsing logic for `.jlo/config.toml`.
  This bypasses the domain layer's canonical parser (`src/domain/config`) and violates the "One responsibility has one owner" rule.
  Adapters should use domain models, not define their own DTOs for core configuration.

evidence:
  - path: "src/adapters/control_plane_config.rs"
    loc:
      - "struct WorkflowGenerateConfigDto"
      - "fn load_workflow_generate_config"
      - "toml::from_str(&content)?"
    note: "Defines duplicate DTOs and parsing logic for .jlo/config.toml."
  - path: "src/domain/config/mod.rs"
    loc:
      - "pub struct RunConfig"
    note: "Canonical domain model for configuration exists but is ignored by the adapter."
