schema_version: 1

# Metadata
id: "mft002"
issue_id: "h8d9c0" # ID of the issue that processed this event (empty if unprocessed)
created_at: "2026-02-11"
author_role: "data_arch"
confidence: "high"

# Content
title: "Stringly-Typed Path Logic in Manifest.rs"
statement: |
  `src/domain/workspace/manifest.rs` implements path parsing logic using manual string splitting and hardcoded directory names (e.g., ".jules", ".jlo").
  This ignores the existing type-safe path catalog in `src/domain/workspace/paths` and creates a brittle, duplicated source of truth for workspace structure.
  Changes to the workspace structure defined in `paths` will not propagate to `manifest.rs`, leading to potential bugs.

# Evidence supporting the observation
evidence:
  - path: "src/domain/workspace/manifest.rs"
    loc:
      - "is_default_role_file"
      - "is_control_plane_entity_file"
    note: "Uses manual string splitting and hardcoded literal strings for path components."

  - path: "src/domain/workspace/paths/mod.rs"
    loc:
      - "JULES_DIR"
      - "JLO_DIR"
    note: "Defines the canonical constants for these directories which are ignored by manifest.rs."
