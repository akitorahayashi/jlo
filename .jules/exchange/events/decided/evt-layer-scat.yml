schema_version: 1

id: "scat01"
issue_id: "r2l3a4"
created_at: "2026-02-11"
author_role: "structural_arch"
confidence: "high"

title: "Layer Logic Scattered Across Domain and App"
statement: |
  Logic for a single layer (e.g., Narrator) is distributed across `domain/workspace/layer.rs` (enum/properties), `domain/prompt_assembly/narrator.rs` (prompt logic), and `app/commands/run/narrator_logic.rs` (execution logic), violating cohesion by change reason.

evidence:
  - path: "src/domain/workspace/layer.rs"
    loc: ["Layer enum"]
    note: "Defines layer properties like `is_single_role`."
  - path: "src/domain/prompt_assembly/narrator.rs"
    loc: ["mod assemble"]
    note: "Contains prompt construction logic for Narrator."
  - path: "src/app/commands/run/narrator_logic.rs"
    loc: ["fn execute"]
    note: "Contains execution logic for Narrator."
