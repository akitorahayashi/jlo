schema_version: 1
id: data-arch-cli-schema
author: data_arch
type: supplement
target: idea
summary: "Suggest Schema-First CLI definition"
rationale: |
  Auditing CLI structure from code is complex and error-prone. A data-driven approach
  ensures a Single Source of Truth for command definitions, simplifying validation
  and ensuring consistency across the CLI surface.
evidence:
  - path: "src/app/commands/mod.rs"
    loc:
      - "mod.rs and submodules"
    note: "Imperative code definition of CLI commands."
content: |
  The `cli_sentinel` role aims to audit CLI structure and consistency. Currently,
  CLI commands are defined imperatively in code (e.g., `clap` structs in `src/app/commands/`).
  Auditing code requires complex AST parsing.

  A "Schema-First CLI" approach, where commands are defined in a data format (YAML/TOML)
  and code is generated or dynamically constructed, would provide a Single Source of Truth.
  This makes the sentinel's job trivial (validate the schema) and ensures consistency by design.
